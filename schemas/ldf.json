{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "LDF",
	"type": "object",
	"definitions": {
		"header": {
			"type": "string",
			"pattern": "lin_description_file"
		},
		"version" : {
			"type": "number",
			"minimum": 0.0,
			"maximum": 2.2
		},
		"master": {
			"type": "object",
			"properties": {
			  "name": {
				"type": "string"
			  },
			  "timebase": {
				"type": "number"
			  },
			  "jitter": {
				"type": "number"
			  }
			},
			"required": [
			  "name",
			  "timebase",
			  "jitter"
			]
		},
		"slaves": {
			"type": "array",
			"items": {
				"type": "string"
			}
		},
		"signal": {
			"type": "object",
			"properties": {
			  "name": {
				"type": "string"
			  },
			  "width": {
				"type": "integer"
			  },
			  "init_value": {
				"type": "integer"
			  },
			  "publisher": {
				"type": "string"
			  },
			  "subscribers": {
				"type": "array",
				"items": {
					"type": "string"
				}
			  }
			},
			"required": [
			  "name",
			  "width",
			  "init_value",
			  "publisher"
			]
		},
		"frame": {
			"type": "object",
			"properties": {
				"name": {
					"type": "string"
				},
				"frame_id": {
					"type": "integer"
				},
				"publisher": {
					"type": "string"
				},
				"length": {
					"type": ["integer", "null"]
				},
				"signals": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"signal": {
								"type": "string"
							},
							"offset": {
								"type": "integer"
							}
						},
						"required": [
							"signal",
							"offset"
						]
					}
				}
			},
			"required": [
				"name",
				"frame_id",
				"publisher",
				"length",
				"signals"
			]
		},
		"event_triggered_frame": {
			"type": "object",
			"properties": {
			  "name": {
				"type": "string"
			  }
			},
			"required": [
			  "name"
			]
		},
		"node": {
			"type": "object",
			"properties": {
			  "name": {
				"type": "string"
			  },
			  "lin_protocol": {
				"type": "number"
			  },
			  "configured_nad": {
				"type": "integer"
			  },
			  "initial_nad": {
				"type": "integer"
			  },
			  "product_id": {
				"type": "object",
				"properties": {
				  "supplier_id": {
					"type": "integer"
				  },
				  "function_id": {
					"type": "integer"
				  },
				  "variant": {
					"type": "integer"
				  }
				},
				"required": [
				  "supplier_id",
				  "function_id"
				]
			  },
			  "response_error": {
				"type": "string"
			  },
			  "fault_state_signals": {
				"type": "array",
				"items":{
					"type": "string"
				}
			  },
			  "P2_min": {
				"type": "number"
			  },
			  "ST_min": {
				"type": "number"
			  },
			  "N_As_timeout": {
				"type": "number"
			  },
			  "N_Cr_timeout": {
				"type": "number"
			  },
			  "configurable_frames": {
				"type": ["array", "object"],
				"items": {
					"type": "string"
				}
			  }
			},
			"required": [
			  "name",
			  "lin_protocol",
			  "configured_nad"
			]
		},
		"logical_value_encoder": {
			"type": "object",
			"properties": {
				"type": {
				"type": "string"
				},
				"value": {
				"type": "integer"
				},
				"text": {
				"type": "string"
				}
			},
			"required": [
				"type",
				"value",
				"text"
			]
		},
		"physical_value_encoder": {
			"type": "object",
			"properties": {
				"type": {
				"type": "string"
				},
				"min": {
				"type": "number"
				},
				"max": {
				"type": "number"
				},
				"scale": {
				"type": "number"
				},
				"offset": {
				"type": "number"
				},
				"unit": {
				"type": "string"
				}
			},
			"required": [
				"type",
				"min",
				"max",
				"scale",
				"offset",
				"unit"
			]
		}
	},
	"properties": {
	  "header": {
		"$ref": "#/definitions/header"
	  },
	  "protocol_version": {
		"$ref": "#/definitions/version",
		"description": ""
	  },
	  "language_version": {
		"$ref": "#/definitions/version"
	  },
	  "speed": {
		"type": "integer"
	  },
	  "channel_name": {
		"type": "string"
	  },
	  "nodes": {
		"type": "object",
		"properties": {
		  "master": {
			"$ref": "#/definitions/master"
		  },
		  "slaves": {
			"$ref": "#/definitions/slaves"
		  }
		},
		"required": [
		  "master",
		  "slaves"
		]
	  },
	  "signals": {
		"type": "array",
		"items": {
			"$ref": "#/definitions/signal"
		}
	  },
	  "frames": {
		"type": "array",
		"items": {
			"$ref": "#/definitions/frame"
		}
	  },
	  "event_triggered_frames": {
		"type": "array",
		"items": {
			"$ref": "#/definitions/event_triggered_frame"
		}
	  },
	  "node_attributes": {
		"type": "array",
		"items": {
			"$ref": "#/definitions/node"
		}
	  },
	  "signal_encoding_types": {
		"type": "array",
		"items": {
			"type": "object",
			"properties": {
			  "name": {
				"type": "string"
			  },
			  "values": {
				"type": "array",
				"items": {
					"oneOf": [
						{"$ref": "#/definitions/logical_value_encoder"},
						{"$ref": "#/definitions/physical_value_encoder"}
					]
				}
			  }
			},
			"required": [
			  "name",
			  "values"
			]
		  }
	  },
	  "signal_representations": {
		"type": "array",
		"items": {
			"type": "object",
			"properties": {
			  "encoding": {
				"type": "string"
			  },
			  "signals": {
				"type": "array",
				"items": {
					"type": "string"
				}
			  }
			},
			"required": [
			  "encoding",
			  "signals"
			]
		  }
	  }
	},
	"required": [
	  "header",
	  "protocol_version",
	  "language_version",
	  "speed",
	  "nodes",
	  "signals",
	  "frames",
	  "schedule_tables"
	]
  }